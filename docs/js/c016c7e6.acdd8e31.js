(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["c016c7e6"],{8401:function(t,e,r){"use strict";var o=r("e274"),i=r.n(o);i.a},"965c":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{staticClass:"q-pa-md"},[r("q-modal",{attrs:{"no-backdrop-dismiss":""},on:{"escape-key":t.cancelEdit},model:{value:t.propertyModalShowing,callback:function(e){t.propertyModalShowing=e},expression:"propertyModalShowing"}},[r("div",{staticClass:"q-ma-md"},[r("div",[r("img",{staticClass:"headerIcon",attrs:{src:"statics/"+t.editableProperty.image}})]),r("q-select",{attrs:{"stack-label":"Data Type",separator:"",options:t.dataItemOptions(t.editableProperty.category)},model:{value:t.editableProperty.typeHint,callback:function(e){t.$set(t.editableProperty,"typeHint",e)},expression:"editableProperty.typeHint"}}),r("q-field",[r("q-input",{attrs:{"stack-label":"Key"},model:{value:t.editableProperty.key,callback:function(e){t.$set(t.editableProperty,"key",e)},expression:"editableProperty.key"}})],1),r("q-field",[r("q-input",{attrs:{"stack-label":"Title"},model:{value:t.editableProperty.title,callback:function(e){t.$set(t.editableProperty,"title",e)},expression:"editableProperty.title"}})],1),r("q-field",[r("q-checkbox",{attrs:{label:"Primary?"},model:{value:t.editableProperty.primary,callback:function(e){t.$set(t.editableProperty,"primary",e)},expression:"editableProperty.primary"}})],1),r("q-field",[r("q-checkbox",{attrs:{label:"Required?"},model:{value:t.editableProperty.required,callback:function(e){t.$set(t.editableProperty,"required",e)},expression:"editableProperty.required"}})],1),r("q-field",[r("q-checkbox",{attrs:{label:"Multiple?"},model:{value:t.editableProperty.multiple,callback:function(e){t.$set(t.editableProperty,"multiple",e)},expression:"editableProperty.multiple"}})],1),r("hr"),r("div",[r("q-btn",{staticClass:"q-ma-sm",attrs:{icon:"delete",color:"red"},on:{click:t.deleteEdit}}),r("q-btn",{staticClass:"q-ma-sm float-right",attrs:{color:"primary",label:"OK"},on:{click:t.saveEdit}}),t.editableProperty.firstEdit?t._e():r("q-btn",{staticClass:"q-ma-sm float-right",attrs:{color:"primary",outline:"",label:"Cancel"},on:{click:t.cancelEdit}})],1)],1)]),r("q-breadcrumbs",{staticClass:"q-mb-lg"},t._l(t.modelBreadcrumbs,function(e){return r("q-breadcrumbs-el",{key:"modelKey",staticClass:"cursor-pointer",attrs:{"q-breadcrumbs-el":"",label:e},nativeOn:{click:function(r){t.focusModel(e)}}})})),r("draggable",{staticClass:"dragArea",attrs:{options:t.modelOptions},on:{choose:t.choose},model:{value:t.modelItems,callback:function(e){t.modelItems=e},expression:"modelItems"}},t._l(t.modelItems,function(e,o){return r("div",{key:o,class:e.key===t.currentItemKey?"selectedModelItem":"model-item"},[r("q-icon",{staticClass:"q-mx-sm grab",attrs:{name:"drag_handle",size:"2rem"}}),r("span",[t._v(t._s(e.key))]),r("div",{staticClass:"float-right q-py-sm"},["object"===e.category?r("q-btn",{attrs:{color:"grey",size:"medium",icon:"list_alt",flat:""},nativeOn:{click:function(r){t.focusModel(e.key)}}}):t._e(),r("q-btn",{attrs:{color:"grey",size:"medium",icon:"settings",flat:""},nativeOn:{click:function(e){t.edit(o)}}})],1)],1)}))],1)},i=[];o._withStripped=!0;r("ac6a"),r("7f7f"),r("28a5");var a=r("1516"),s=r.n(a),l=r("6a52"),n=l.TYPES.getDataItemsByCategory(),c={name:"DragAndDropPage",components:{draggable:s.a},computed:{paletteDrawerOpen:function(){return this.$store.state.paletteDrawerOpen},editableProperty:{get:function(){return this.$store.state.editableProperty},set:function(){this.$store.commit("editableProperty",v)}},currentItemKey:function(){return this.$store.state.currentItemKey},currentModelPath:function(){return this.$store.state.currentModelPath},modelBreadcrumbs:function(){return this.$store.state.currentModelPath.split(".models.")},modelItems:{get:function(){return this.$store.state.currentItems},set:function(t){this.$store.commit("currentItems",t)}},propertyModalShowing:{get:function(){return this.$store.state.propertyModalShowing},set:function(t){this.$store.commit("propertyModalShowing",t)}}},mounted:function(){this.$nextTick(function(){this.$store.commit("paletteDrawerOpen",!0)})},methods:{dataItemOptions:function(t){return t?"object"===t?[{value:"object",label:"Object"}]:n[t].map(function(t){return{value:t.name,label:t.title}}):[]},cancelEdit:function(){this.propertyModalShowing=!1},deleteEdit:function(){var t=this.$store.state.currentItemKey,e=0,r=null;this.$store.state.currentItems.forEach(function(o){o.key===t&&(r=e),e++}),this.$store.commit("removeItem",r),this.propertyModalShowing=!1,this.$store.commit("setCurrentItem",null),this.$store.commit("removeModel",t)},saveEdit:function(){var t=this,e=this.$store.state.currentItemKey,r=this.$store.state.editableProperty,o=0;this.$store.state.currentItems.forEach(function(i){i.key===e&&(i.example=r.example,i.key=r.key,i.multiple=r.multiple,i.required=r.required,i.primary=r.primary,i.title=r.title,i.firstEdit=!1,t.$store.commit("setCurrentItem",o),"object"===i.category&&t.$store.commit("ensureChildModelExists",{old:e,new:i.key})),o++}),this.propertyModalShowing=!1},focusModel:function(t){this.$store.commit("focusModel",t)},edit:function(t){this.$store.commit("setCurrentItem",t),this.$store.commit("editableProperty",JSON.parse(JSON.stringify(this.$store.state.currentItem))),this.$store.commit("propertyModalShowing",!0)},choose:function(t){var e=t.newIndex||t.oldIndex;this.$store.commit("setCurrentItem",e)}},data:function(){return{modelOptions:{sort:!0,handle:".grab",animation:150,ghostClass:"ghost",group:"palette"}}}},d=c,m=(r("8401"),r("2877")),u=Object(m["a"])(d,o,i,!1,null,null,null);u.options.__file="Drag-and-drop.vue";e["default"]=u.exports},e274:function(t,e,r){}}]);